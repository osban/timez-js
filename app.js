!function(){"use strict";var e,t,n,r,o,i,l,a,c,s,u,f,d,p,v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m(){if(t)return e;function n(e,t,n,r,o,i){return{tag:e,key:t,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return t=1,n.normalize=function(e){return Array.isArray(e)?n("[",void 0,void 0,n.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"==typeof e?e:n("#",void 0,void 0,String(e),void 0,void 0)},n.normalizeChildren=function(e){var t=[];if(e.length){for(var r=null!=e[0]&&null!=e[0].key,o=1;o<e.length;o++)if((null!=e[o]&&null!=e[o].key)!==r)throw new TypeError(!r||null==e[o]&&"boolean"!=typeof e[o]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(o=0;o<e.length;o++)t[o]=n.normalize(e[o])}return t},e=n}function g(){if(r)return n;r=1;var e=m();return n=function(){var t,n=arguments,r=arguments[this],o=this+1;if(null==r?r={}:("object"!=typeof r||null!=r.tag||Array.isArray(r))&&(r={},o=this),arguments.length===o+1)t=arguments[o],Array.isArray(t)||(t=[t]);else for(t=[];o<arguments.length;)t.push(n[o++]);return e("",r.key,r,t)},n}function y(){return i?o:(i=1,o={}.hasOwnProperty)}function w(){if(a)return l;a=1;var e=m(),t=g(),n=y(),r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o={};function i(e){for(var t in e)if(n.call(e,t))return!1;return!0}return l=function(l){if(null==l||"string"!=typeof l&&"function"!=typeof l&&"function"!=typeof l.view)throw Error("The selector must be either a string or a component.");var a=t.apply(1,arguments);return"string"==typeof l&&(a.children=e.normalizeChildren(a.children),"["!==l)?function(e,t){var r=t.attrs,o=n.call(r,"class"),l=o?r.class:r.className;if(t.tag=e.tag,t.attrs={},!i(e.attrs)&&!i(r)){var a={};for(var c in r)n.call(r,c)&&(a[c]=r[c]);r=a}for(var c in e.attrs)n.call(e.attrs,c)&&"className"!==c&&!n.call(r,c)&&(r[c]=e.attrs[c]);for(var c in null==l&&null==e.attrs.className||(r.className=null!=l?null!=e.attrs.className?String(e.attrs.className)+" "+String(l):l:null!=e.attrs.className?e.attrs.className:null),o&&(r.class=null),r)if(n.call(r,c)&&"key"!==c){t.attrs=r;break}return t}(o[l]||function(e){for(var t,n="div",i=[],l={};t=r.exec(e);){var a=t[1],c=t[2];if(""===a&&""!==c)n=c;else if("#"===a)l.id=c;else if("."===a)i.push(c);else if("["===t[3][0]){var s=t[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?i.push(s):l[t[4]]=""===s?s:s||!0}}return i.length>0&&(l.className=i.join(" ")),o[e]={tag:n,attrs:l}}(l),a):(a.tag=l,a)},l}function b(){if(p)return d;p=1;var e=w();return e.trust=function(){if(s)return c;s=1;var e=m();return c=function(t){return null==t&&(t=""),e("<",void 0,void 0,t,void 0,void 0)}}(),e.fragment=function(){if(f)return u;f=1;var e=m(),t=g();return u=function(){var n=t.apply(0,arguments);return n.tag="[",n.children=e.normalizeChildren(n.children),n},u}(),d=e}var x,k,j,L,S,C,A,E,z,T,O,P,N,$,M,I,D,R,F,U,_,q,B,H,K,J,Z,V,W,Q,G,X,Y,ee,te,ne={exports:{}};function re(){if(k)return x;k=1;var e=function(t){if(!(this instanceof e))throw new Error("Promise must be called with 'new'.");if("function"!=typeof t)throw new TypeError("executor must be a function.");var n=this,r=[],o=[],i=s(r,!0),l=s(o,!1),a=n._instance={resolvers:r,rejectors:o},c="function"==typeof setImmediate?setImmediate:setTimeout;function s(e,t){return function i(s){var f;try{if(!t||null==s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof(f=s.then))c((function(){t||0!==e.length||console.error("Possible unhandled promise rejection:",s);for(var n=0;n<e.length;n++)e[n](s);r.length=0,o.length=0,a.state=t,a.retry=function(){i(s)}}));else{if(s===n)throw new TypeError("Promise can't be resolved with itself.");u(f.bind(s))}}catch(e){l(e)}}}function u(e){var t=0;function n(e){return function(n){t++>0||e(n)}}var r=n(l);try{e(n(i),r)}catch(e){r(e)}}u(t)};return e.prototype.then=function(t,n){var r,o,i=this._instance;function l(e,t,n,l){t.push((function(t){if("function"!=typeof e)n(t);else try{r(e(t))}catch(e){o&&o(e)}})),"function"==typeof i.retry&&l===i.state&&i.retry()}var a=new e((function(e,t){r=e,o=t}));return l(t,i.resolvers,r,!0),l(n,i.rejectors,o,!1),a},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(t){return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},e.resolve=function(t){return t instanceof e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(e,n){var r=t.length,o=0,i=[];if(0===t.length)e([]);else for(var l=0;l<t.length;l++)!function(l){function a(t){o++,i[l]=t,o===r&&e(i)}null==t[l]||"object"!=typeof t[l]&&"function"!=typeof t[l]||"function"!=typeof t[l].then?a(t[l]):t[l].then(a,n)}(l)}))},e.race=function(t){return new e((function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)}))},x=e}function oe(){if(j)return ne.exports;j=1;var e=re();return"undefined"!=typeof window?(void 0===window.Promise?window.Promise=e:window.Promise.prototype.finally||(window.Promise.prototype.finally=e.prototype.finally),ne.exports=window.Promise):void 0!==v?(void 0===v.Promise?v.Promise=e:v.Promise.prototype.finally||(v.Promise.prototype.finally=e.prototype.finally),ne.exports=v.Promise):ne.exports=e,ne.exports}function ie(){if(S)return L;S=1;var e=m();return L=function(t){var n,r=t&&t.document,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(e){return e.attrs&&e.attrs.xmlns||o[e.tag]}function l(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function a(e){var t=e.state;try{return this.apply(t,arguments)}finally{l(e,t)}}function c(){try{return r.activeElement}catch(e){return null}}function s(e,t,n,r,o,i,l){for(var a=n;a<r;a++){var c=t[a];null!=c&&u(e,c,o,l,i)}}function u(t,n,o,l,c){var f=n.tag;if("string"==typeof f)switch(n.state={},null!=n.attrs&&R(n.attrs,n,o),f){case"#":!function(e,t,n){t.dom=r.createTextNode(t.children),b(e,t.dom,n)}(t,n,c);break;case"<":d(t,n,l,c);break;case"[":!function(e,t,n,o,i){var l=r.createDocumentFragment();if(null!=t.children){var a=t.children;s(l,a,0,a.length,n,null,o)}t.dom=l.firstChild,t.domSize=l.childNodes.length,b(e,l,i)}(t,n,o,l,c);break;default:!function(e,t,n,o,l){var a=t.tag,c=t.attrs,u=c&&c.is;o=i(t)||o;var f=o?u?r.createElementNS(o,a,{is:u}):r.createElementNS(o,a):u?r.createElement(a,{is:u}):r.createElement(a);t.dom=f,null!=c&&function(e,t,n){"input"===e.tag&&null!=t.type&&e.dom.setAttribute("type",t.type);var r=null!=t&&"input"===e.tag&&"file"===t.type;for(var o in t)A(e,o,null,t[o],n,r)}(t,c,o);if(b(e,f,l),!x(t)&&null!=t.children){var d=t.children;s(f,d,0,d.length,n,null,o),"select"===t.tag&&null!=c&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&A(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,c)}}(t,n,o,l,c)}else!function(t,n,r,o,i){(function(t,n){var r;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(r=t.state.view).$$reentrantLock$$)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(r=t.tag).$$reentrantLock$$)return;r.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}R(t.state,t,n),null!=t.attrs&&R(t.attrs,t,n);if(t.instance=e.normalize(a.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null})(n,r),null!=n.instance?(u(t,n.instance,r,o,i),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}(t,n,o,l,c)}var f={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function d(e,t,n,o){var i=t.children.match(/^\s*?<(\w+)/im)||[],l=r.createElement(f[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",l=l.firstChild):l.innerHTML=t.children,t.dom=l.firstChild,t.domSize=l.childNodes.length,t.instance=[];for(var a,c=r.createDocumentFragment();a=l.firstChild;)t.instance.push(a),c.appendChild(a);b(e,c,o)}function p(e,t,n,r,o,i){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)s(e,n,0,n.length,r,o,i);else if(null==n||0===n.length)k(e,t,0,t.length);else{var l=null!=t[0]&&null!=t[0].key,a=null!=n[0]&&null!=n[0].key,c=0,f=0;if(!l)for(;f<t.length&&null==t[f];)f++;if(!a)for(;c<n.length&&null==n[c];)c++;if(l!==a)k(e,t,f,t.length),s(e,n,c,n.length,r,o,i);else if(a){for(var d,p,w,b,x,L=t.length-1,S=n.length-1;L>=f&&S>=c&&(w=t[L],b=n[S],w.key===b.key);)w!==b&&v(e,w,b,r,o,i),null!=b.dom&&(o=b.dom),L--,S--;for(;L>=f&&S>=c&&(d=t[f],p=n[c],d.key===p.key);)f++,c++,d!==p&&v(e,d,p,r,g(t,f,o),i);for(;L>=f&&S>=c&&c!==S&&d.key===b.key&&w.key===p.key;)y(e,w,x=g(t,f,o)),w!==p&&v(e,w,p,r,x,i),++c<=--S&&y(e,d,o),d!==b&&v(e,d,b,r,o,i),null!=b.dom&&(o=b.dom),f++,w=t[--L],b=n[S],d=t[f],p=n[c];for(;L>=f&&S>=c&&w.key===b.key;)w!==b&&v(e,w,b,r,o,i),null!=b.dom&&(o=b.dom),S--,w=t[--L],b=n[S];if(c>S)k(e,t,f,L+1);else if(f>L)s(e,n,c,S+1,r,o,i);else{var C,A,E=o,z=S-c+1,T=new Array(z),O=0,P=0,N=2147483647,$=0;for(P=0;P<z;P++)T[P]=-1;for(P=S;P>=c;P--){null==C&&(C=h(t,f,L+1));var M=C[(b=n[P]).key];null!=M&&(N=M<N?M:-1,T[P-c]=M,w=t[M],t[M]=null,w!==b&&v(e,w,b,r,o,i),null!=b.dom&&(o=b.dom),$++)}if(o=E,$!==L-f+1&&k(e,t,f,L+1),0===$)s(e,n,c,S+1,r,o,i);else if(-1===N)for(A=function(e){var t=[0],n=0,r=0,o=0,i=m.length=e.length;for(o=0;o<i;o++)m[o]=e[o];for(o=0;o<i;++o)if(-1!==e[o]){var l=t[t.length-1];if(e[l]<e[o])m[o]=l,t.push(o);else{for(n=0,r=t.length-1;n<r;){var a=(n>>>1)+(r>>>1)+(n&r&1);e[t[a]]<e[o]?n=a+1:r=a}e[o]<e[t[n]]&&(n>0&&(m[o]=t[n-1]),t[n]=o)}}n=t.length,r=t[n-1];for(;n-- >0;)t[n]=r,r=m[r];return m.length=0,t}(T),O=A.length-1,P=S;P>=c;P--)p=n[P],-1===T[P-c]?u(e,p,r,i,o):A[O]===P-c?O--:y(e,p,o),null!=p.dom&&(o=n[P].dom);else for(P=S;P>=c;P--)p=n[P],-1===T[P-c]&&u(e,p,r,i,o),null!=p.dom&&(o=n[P].dom)}}else{var I=t.length<n.length?t.length:n.length;for(c=c<f?c:f;c<I;c++)(d=t[c])===(p=n[c])||null==d&&null==p||(null==d?u(e,p,r,i,g(t,c+1,o)):null==p?j(e,d):v(e,d,p,r,g(t,c+1,o),i));t.length>I&&k(e,t,c,t.length),n.length>I&&s(e,n,c,n.length,r,o,i)}}}function v(t,n,r,o,l,c){var s=n.tag;if(s===r.tag){if(r.state=n.state,r.events=n.events,function(e,t){do{var n;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate)if(void 0!==(n=a.call(e.attrs.onbeforeupdate,e,t))&&!n)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate)if(void 0!==(n=a.call(e.state.onbeforeupdate,e,t))&&!n)break;return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}(r,n))return;if("string"==typeof s)switch(null!=r.attrs&&F(r.attrs,r,o),s){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(n,r);break;case"<":!function(e,t,n,r,o){t.children!==n.children?(L(e,t),d(e,n,r,o)):(n.dom=t.dom,n.domSize=t.domSize,n.instance=t.instance)}(t,n,r,c,l);break;case"[":!function(e,t,n,r,o,i){p(e,t.children,n.children,r,o,i);var l=0,a=n.children;if(n.dom=null,null!=a){for(var c=0;c<a.length;c++){var s=a[c];null!=s&&null!=s.dom&&(null==n.dom&&(n.dom=s.dom),l+=s.domSize||1)}1!==l&&(n.domSize=l)}}(t,n,r,o,l,c);break;default:!function(e,t,n,r){var o=t.dom=e.dom;r=i(t)||r,"textarea"===t.tag&&null==t.attrs&&(t.attrs={});(function(e,t,n,r){t&&t===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");if(null!=n){"input"===e.tag&&null!=n.type&&e.dom.setAttribute("type",n.type);var o="input"===e.tag&&"file"===n.type;for(var i in n)A(e,i,t&&t[i],n[i],r,o)}var l;if(null!=t)for(var i in t)null==(l=t[i])||null!=n&&null!=n[i]||E(e,i,l,r)})(t,e.attrs,t.attrs,r),x(t)||p(o,e.children,t.children,n,null,r)}(n,r,o,c)}else!function(t,n,r,o,i,l){if(r.instance=e.normalize(a.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");F(r.state,r,o),null!=r.attrs&&F(r.attrs,r,o);null!=r.instance?(null==n.instance?u(t,r.instance,o,l,i):v(t,n.instance,r.instance,o,i,l),r.dom=r.instance.dom,r.domSize=r.instance.domSize):null!=n.instance?(j(t,n.instance),r.dom=void 0,r.domSize=0):(r.dom=n.dom,r.domSize=n.domSize)}(t,n,r,o,l,c)}else j(t,n),u(t,r,o,c,l)}function h(e,t,n){for(var r=Object.create(null);t<n;t++){var o=e[t];if(null!=o){var i=o.key;null!=i&&(r[i]=t)}}return r}var m=[];function g(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function y(e,t,n){var o=r.createDocumentFragment();w(e,o,t),b(e,o,n)}function w(e,t,n){for(;null!=n.dom&&n.dom.parentNode===e;){if("string"!=typeof n.tag){if(null!=(n=n.instance))continue}else if("<"===n.tag)for(var r=0;r<n.instance.length;r++)t.appendChild(n.instance[r]);else if("["!==n.tag)t.appendChild(n.dom);else if(1===n.children.length){if(null!=(n=n.children[0]))continue}else for(r=0;r<n.children.length;r++){var o=n.children[r];null!=o&&w(e,t,o)}break}}function b(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function x(e){if(null==e.attrs||null==e.attrs.contenteditable&&null==e.attrs.contentEditable)return!1;var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function k(e,t,n,r){for(var o=n;o<r;o++){var i=t[o];null!=i&&j(e,i)}}function j(e,t){var n,r,o,i=0,c=t.state;"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&(null!=(o=a.call(t.state.onbeforeremove,t))&&"function"==typeof o.then&&(i=1,n=o));t.attrs&&"function"==typeof t.attrs.onbeforeremove&&(null!=(o=a.call(t.attrs.onbeforeremove,t))&&"function"==typeof o.then&&(i|=2,r=o));if(l(t,c),i){if(null!=n){var s=function(){1&i&&((i&=2)||u())};n.then(s,s)}if(null!=r){s=function(){2&i&&((i&=1)||u())};r.then(s,s)}}else C(t),S(e,t);function u(){l(t,c),C(t),S(e,t)}}function L(e,t){for(var n=0;n<t.instance.length;n++)e.removeChild(t.instance[n])}function S(e,t){for(;null!=t.dom&&t.dom.parentNode===e;){if("string"!=typeof t.tag){if(null!=(t=t.instance))continue}else if("<"===t.tag)L(e,t);else{if("["!==t.tag&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(1===t.children.length){if(null!=(t=t.children[0]))continue}else for(var n=0;n<t.children.length;n++){var r=t.children[n];null!=r&&S(e,r)}}break}}function C(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&a.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&a.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&C(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&C(r)}}}function A(e,t,n,o,i,l){if(!("key"===t||"is"===t||null==o||z(t)||n===o&&!function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===c()||"option"===e.tag&&e.dom.parentNode===r.activeElement}(e,t)&&"object"!=typeof o||"type"===t&&"input"===e.tag)){if("o"===t[0]&&"n"===t[1])return D(e,t,o);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),o);else if("style"===t)M(e.dom,n,o);else if(T(e,t,i)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+o&&(l||e.dom===c()))return;if("select"===e.tag&&null!==n&&e.dom.value===""+o)return;if("option"===e.tag&&null!==n&&e.dom.value===""+o)return;if(l&&""+o!="")return void console.error("`value` is read-only on file inputs!")}e.dom[t]=o}else"boolean"==typeof o?o?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,o)}}function E(e,t,n,r){if("key"!==t&&"is"!==t&&null!=n&&!z(t))if("o"===t[0]&&"n"===t[1])D(e,t,void 0);else if("style"===t)M(e.dom,n,null);else if(!T(e,t,r)||"className"===t||"title"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===c())||"input"===e.tag&&"type"===t){var o=t.indexOf(":");-1!==o&&(t=t.slice(o+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null}function z(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function T(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var O,P=/[A-Z]/g;function N(e){return"-"+e.toLowerCase()}function $(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(P,N)}function M(e,t,n){if(t===n);else if(null==n)e.style.cssText="";else if("object"!=typeof n)e.style.cssText=n;else if(null==t||"object"!=typeof t)for(var r in e.style.cssText="",n){null!=(o=n[r])&&e.style.setProperty($(r),String(o))}else{for(var r in n){var o;null!=(o=n[r])&&(o=String(o))!==String(t[r])&&e.style.setProperty($(r),o)}for(var r in t)null!=t[r]&&null==n[r]&&e.style.removeProperty($(r))}}function I(){this._=n}function D(e,t,r){if(null!=e.events){if(e.events._=n,e.events[t]===r)return;null==r||"function"!=typeof r&&"object"!=typeof r?(null!=e.events[t]&&e.dom.removeEventListener(t.slice(2),e.events,!1),e.events[t]=void 0):(null==e.events[t]&&e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=r)}else null==r||"function"!=typeof r&&"object"!=typeof r||(e.events=new I,e.dom.addEventListener(t.slice(2),e.events,!1),e.events[t]=r)}function R(e,t,n){"function"==typeof e.oninit&&a.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(a.bind(e.oncreate,t))}function F(e,t,n){"function"==typeof e.onupdate&&n.push(a.bind(e.onupdate,t))}return I.prototype=Object.create(null),I.prototype.handleEvent=function(e){var t,n=this["on"+e.type];"function"==typeof n?t=n.call(e.currentTarget,e):"function"==typeof n.handleEvent&&n.handleEvent(e),this._&&!1!==e.redraw&&(0,this._)(),!1===t&&(e.preventDefault(),e.stopPropagation())},function(t,r,o){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(null!=O&&t.contains(O))throw new TypeError("Node is currently being rendered to and thus is locked.");var i=n,l=O,a=[],s=c(),u=t.namespaceURI;O=t,n="function"==typeof o?o:void 0;try{null==t.vnodes&&(t.textContent=""),r=e.normalizeChildren(Array.isArray(r)?r:[r]),p(t,t.vnodes,r,a,null,"http://www.w3.org/1999/xhtml"===u?void 0:u),t.vnodes=r,null!=s&&c()!==s&&"function"==typeof s.focus&&s.focus();for(var f=0;f<a.length;f++)a[f]()}finally{n=i,O=l}}},L}function le(){return A?C:(A=1,C=ie()("undefined"!=typeof window?window:null))}function ae(){if(O)return T;O=1;var e=le();return T=function(){if(z)return E;z=1;var e=m();return E=function(t,n,r){var o=[],i=!1,l=-1;function a(){for(l=0;l<o.length;l+=2)try{t(o[l],e(o[l+1]),c)}catch(e){r.error(e)}l=-1}function c(){i||(i=!0,n((function(){i=!1,a()})))}return c.sync=a,{mount:function(n,r){if(null!=r&&null==r.view&&"function"!=typeof r)throw new TypeError("m.mount expects a component, not a vnode.");var i=o.indexOf(n);i>=0&&(o.splice(i,2),i<=l&&(l-=2),t(n,[])),null!=r&&(o.push(n,r),t(n,e(r),c))},redraw:c}},E}()(e,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null),T}function ce(){return N?P:(N=1,P=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(e+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(e+"["+o+"]",n[o]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}})}function se(){if(M)return $;M=1;var e=y();return $=Object.assign||function(t,n){for(var r in n)e.call(n,r)&&(t[r]=n[r])}}function ue(){if(D)return I;D=1;var e=ce(),t=se();return I=function(n,r){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==r)return n;var o=n.indexOf("?"),i=n.indexOf("#"),l=i<0?n.length:i,a=o<0?l:o,c=n.slice(0,a),s={};t(s,r);var u=c.replace(/:([^\/\.-]+)(\.{3})?/g,(function(e,t,n){return delete s[t],null==r[t]?e:n?r[t]:encodeURIComponent(String(r[t]))})),f=u.indexOf("?"),d=u.indexOf("#"),p=d<0?u.length:d,v=f<0?p:f,h=u.slice(0,v);o>=0&&(h+=n.slice(o,l)),f>=0&&(h+=(o<0?"?":"&")+u.slice(f,p));var m=e(s);return m&&(h+=(o<0&&f<0?"?":"&")+m),i>=0&&(h+=n.slice(i)),d>=0&&(h+=(i<0?"":"&")+u.slice(d)),h},I}function fe(){if(_)return U;_=1;var e=oe(),t=ae();return U=function(){if(F)return R;F=1;var e=ue(),t=y();return R=function(n,r,o){var i=0;function l(e){return new r(e)}function a(t){return function(n,i){"string"!=typeof n?(i=n,n=n.url):null==i&&(i={});var a=new r((function(r,o){t(e(n,i.params),i,(function(e){if("function"==typeof i.type)if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t]=new i.type(e[t]);else e=new i.type(e);r(e)}),o)}));if(!0===i.background)return a;var c=0;function s(){0==--c&&"function"==typeof o&&o()}return function e(t){var n=t.then;return t.constructor=l,t.then=function(){c++;var r=n.apply(t,arguments);return r.then(s,(function(e){if(s(),0===c)throw e})),e(r)},t}(a)}}function c(e,n){for(var r in e.headers)if(t.call(e.headers,r)&&r.toLowerCase()===n)return!0;return!1}return l.prototype=r.prototype,l.__proto__=r,{request:a((function(e,r,o,i){var l,a=null!=r.method?r.method.toUpperCase():"GET",s=r.body,u=(null==r.serialize||r.serialize===JSON.serialize)&&!(s instanceof n.FormData||s instanceof n.URLSearchParams),f=r.responseType||("function"==typeof r.extract?"":"json"),d=new n.XMLHttpRequest,p=!1,v=!1,h=d,m=d.abort;for(var g in d.abort=function(){p=!0,m.call(this)},d.open(a,e,!1!==r.async,"string"==typeof r.user?r.user:void 0,"string"==typeof r.password?r.password:void 0),u&&null!=s&&!c(r,"content-type")&&d.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof r.deserialize||c(r,"accept")||d.setRequestHeader("Accept","application/json, text/*"),r.withCredentials&&(d.withCredentials=r.withCredentials),r.timeout&&(d.timeout=r.timeout),d.responseType=f,r.headers)t.call(r.headers,g)&&d.setRequestHeader(g,r.headers[g]);d.onreadystatechange=function(t){if(!p&&4===t.target.readyState)try{var n,l=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),a=t.target.response;if("json"===f){if(!t.target.responseType&&"function"!=typeof r.extract)try{a=JSON.parse(t.target.responseText)}catch(e){a=null}}else f&&"text"!==f||null==a&&(a=t.target.responseText);if("function"==typeof r.extract?(a=r.extract(t.target,r),l=!0):"function"==typeof r.deserialize&&(a=r.deserialize(a)),l)o(a);else{var c=function(){try{n=t.target.responseText}catch(e){n=a}var e=new Error(n);e.code=t.target.status,e.response=a,i(e)};0===d.status?setTimeout((function(){v||c()})):c()}}catch(e){i(e)}},d.ontimeout=function(e){v=!0;var t=new Error("Request timed out");t.code=e.target.status,i(t)},"function"==typeof r.config&&(d=r.config(d,r,e)||d)!==h&&(l=d.abort,d.abort=function(){p=!0,l.call(this)}),null==s?d.send():"function"==typeof r.serialize?d.send(r.serialize(s)):s instanceof n.FormData||s instanceof n.URLSearchParams?d.send(s):d.send(JSON.stringify(s))})),jsonp:a((function(e,t,r,o){var l=t.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+i++,a=n.document.createElement("script");n[l]=function(e){delete n[l],a.parentNode.removeChild(a),r(e)},a.onerror=function(){delete n[l],a.parentNode.removeChild(a),o(new Error("JSONP request failed"))},a.src=e+(e.indexOf("?")<0?"?":"&")+encodeURIComponent(t.callbackKey||"callback")+"="+encodeURIComponent(l),n.document.documentElement.appendChild(a)}))}},R}()("undefined"!=typeof window?window:null,e,t.redraw),U}function de(){if(B)return q;function e(e){try{return decodeURIComponent(e)}catch(t){return e}}return B=1,q=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var n=t.split("&"),r={},o={},i=0;i<n.length;i++){var l=n[i].split("="),a=e(l[0]),c=2===l.length?e(l[1]):"";"true"===c?c=!0:"false"===c&&(c=!1);var s=a.split(/\]\[?|\[/),u=o;a.indexOf("[")>-1&&s.pop();for(var f=0;f<s.length;f++){var d=s[f],p=s[f+1],v=""==p||!isNaN(parseInt(p,10));if(""===d)null==r[a=s.slice(0,f).join()]&&(r[a]=Array.isArray(u)?u.length:0),d=r[a]++;else if("__proto__"===d)break;if(f===s.length-1)u[d]=c;else{var h=Object.getOwnPropertyDescriptor(u,d);null!=h&&(h=h.value),null==h&&(u[d]=h=v?[]:{}),u=h}}}return o}}function pe(){if(K)return H;K=1;var e=de();return H=function(t){var n=t.indexOf("?"),r=t.indexOf("#"),o=r<0?t.length:r,i=n<0?o:n,l=t.slice(0,i).replace(/\/{2,}/g,"/");return l?("/"!==l[0]&&(l="/"+l),l.length>1&&"/"===l[l.length-1]&&(l=l.slice(0,-1))):l="/",{path:l,params:n<0?{}:e(t.slice(n+1,o))}}}function ve(){if(Z)return J;Z=1;var e=pe();return J=function(t){var n=e(t),r=Object.keys(n.params),o=[],i=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(e,t,n){return null==t?"\\"+e:(o.push({k:t,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(e){for(var t=0;t<r.length;t++)if(n.params[r[t]]!==e.params[r[t]])return!1;if(!o.length)return i.test(e.path);var l=i.exec(e.path);if(null==l)return!1;for(t=0;t<o.length;t++)e.params[o[t].k]=o[t].r?l[t+1]:decodeURIComponent(l[t+1]);return!0}},J}function he(){if(W)return V;W=1;var e=y(),t=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return V=function(n,r){var o={};if(null!=r)for(var i in n)e.call(n,i)&&!t.test(i)&&r.indexOf(i)<0&&(o[i]=n[i]);else for(var i in n)e.call(n,i)&&!t.test(i)&&(o[i]=n[i]);return o}}function me(){if(Y)return X;Y=1;var e=ae();return X=function(){if(G)return Q;G=1;var e=m(),t=w(),n=oe(),r=ue(),o=pe(),i=ve(),l=se(),a=he(),c={};function s(e){try{return decodeURIComponent(e)}catch(t){return e}}return Q=function(u,f){var d,p,v,h,m,g,y=null==u?null:"function"==typeof u.setImmediate?u.setImmediate:u.setTimeout,w=n.resolve(),b=!1,x=!1,k=0,j=c,L={onbeforeupdate:function(){return!(!(k=k?2:1)||c===j)},onremove:function(){u.removeEventListener("popstate",A,!1),u.removeEventListener("hashchange",C,!1)},view:function(){if(k&&c!==j){var t=[e(v,h.key,h)];return j&&(t=j.render(t[0])),t}}},S=z.SKIP={};function C(){b=!1;var e=u.location.hash;"#"!==z.prefix[0]&&(e=u.location.search+e,"?"!==z.prefix[0]&&"/"!==(e=u.location.pathname+e)[0]&&(e="/"+e));var t=e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,s).slice(z.prefix.length),n=o(t);function r(e){console.error(e),E(p,null,{replace:!0})}l(n.params,u.history.state),function e(o){for(;o<d.length;o++)if(d[o].check(n)){var i=d[o].component,l=d[o].route,a=i,c=g=function(r){if(c===g){if(r===S)return e(o+1);v=null==r||"function"!=typeof r.view&&"function"!=typeof r?"div":r,h=n.params,m=t,g=null,j=i.render?i:null,2===k?f.redraw():(k=2,f.redraw.sync())}};return void(i.view||"function"==typeof i?(i={},c(a)):i.onmatch?w.then((function(){return i.onmatch(n.params,t,l)})).then(c,t===p?null:r):c("div"))}if(t===p)throw new Error("Could not resolve default route "+p+".");E(p,null,{replace:!0})}(0)}function A(){b||(b=!0,y(C))}function E(e,t,n){if(e=r(e,t),x){A();var o=n?n.state:null,i=n?n.title:null;n&&n.replace?u.history.replaceState(o,i,z.prefix+e):u.history.pushState(o,i,z.prefix+e)}else u.location.href=z.prefix+e}function z(e,t,n){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(d=Object.keys(n).map((function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:n[e],check:i(e)}})),p=t,null!=t){var r=o(t);if(!d.some((function(e){return e.check(r)})))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof u.history.pushState?u.addEventListener("popstate",A,!1):"#"===z.prefix[0]&&u.addEventListener("hashchange",C,!1),x=!0,f.mount(e,L),C()}return z.set=function(e,t,n){null!=g&&((n=n||{}).replace=!0),g=null,E(e,t,n)},z.get=function(){return m},z.prefix="#!",z.Link={view:function(e){var n,o,i,l=t(e.attrs.selector||"a",a(e.attrs,["options","params","selector","onclick"]),e.children);return(l.attrs.disabled=Boolean(l.attrs.disabled))?(l.attrs.href=null,l.attrs["aria-disabled"]="true"):(n=e.attrs.options,o=e.attrs.onclick,i=r(l.attrs.href,e.attrs.params),l.attrs.href=z.prefix+i,l.attrs.onclick=function(e){var t;"function"==typeof o?t=o.call(e.currentTarget,e):null==o||"object"!=typeof o||"function"==typeof o.handleEvent&&o.handleEvent(e),!1===t||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,z.set(i,null,n))}),l}},z.param=function(e){return h&&null!=e?h[e]:h},z},Q}()("undefined"!=typeof window?window:null,e),X}var ge=function(){if(te)return ee;te=1;var e=b(),t=fe(),n=ae(),r=function(){return e.apply(this,arguments)};return r.m=e,r.trust=e.trust,r.fragment=e.fragment,r.Fragment="[",r.mount=n.mount,r.route=me(),r.render=le(),r.redraw=n.redraw,r.request=t.request,r.jsonp=t.jsonp,r.parseQueryString=de(),r.buildQueryString=ce(),r.parsePathname=pe(),r.buildPathname=ue(),r.vnode=m(),r.PromisePolyfill=re(),r.censor=he(),ee=r}(),ye=h(ge);var we={req:function(e,t,n){return ye.request(Object.assign({},{method:e,url:t},n))},get:function(e,t){return we.req("get",e,t)},post:function(e,t){return we.req("post",e,t)},put:function(e,t){return we.req("put",e,t)},del:function(e,t){return we.req("del",e,t)}};var be={view:function(e){var t=e.children,n=e.attrs.A;return ye(".layout",{class:"relative w-screen h-screen"},ye("div",{class:"container mx-auto bg-sky-300"},ye("div",{class:"text-center py-4"},ye("h1",{class:"text-3xl font-bold tracking-widest"},"Timez")),ye("div",{class:"bg-sky-950"},ye("ul",{class:"flex justify-start items-center gap-14 ml-14 pt-3 pb-3.5 list-none"},ye("li",{class:"inline-block text-white cursor-pointer select-none"},ye("a",{onclick:function(){n.initChecks(),ye.route.set("/times")}},"Times")),ye("li",{class:"inline-block text-white cursor-pointer select-none"},ye("a",{onclick:function(){return ye.route.set("/invoices")}},"Invoices")),ye("li",{class:"inline-block text-white cursor-pointer select-none"},ye("a",{onclick:function(){return ye.route.set("/config")}},"Config")))),ye("div",{class:"bg-stone-100"},t)))}},xe={edit:ye("svg",{width:"26",height:"36",viewBox:"0 0 18 18",fill:"#0284c7",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"M14.4714 4.86192C14.7317 5.12227 14.7317 5.54438 14.4714 5.80473L5.80472 14.4714C5.67969 14.5964 5.51013 14.6667 5.33331 14.6667L2.66665 14.6667C2.48983 14.6667 2.32026 14.5964 2.19524 14.4714C2.07022 14.3464 1.99998 14.1768 1.99998 14L1.99998 11.3333C1.99998 11.1565 2.07022 10.9869 2.19524 10.8619L10.8619 2.19525C11.1223 1.9349 11.5444 1.9349 11.8047 2.19525C12.0651 2.4556 12.0651 2.87771 11.8047 3.13806L3.33331 11.6095L3.33331 13.3333L5.05717 13.3333L13.5286 4.86192C13.7889 4.60157 14.211 4.60157 14.4714 4.86192Z"}),ye("path",{d:"M10.8619 2.19525C11.1223 1.9349 11.5444 1.9349 11.8047 2.19525L14.4714 4.86192C14.7317 5.12227 14.7317 5.54438 14.4714 5.80473C14.211 6.06508 13.7889 6.06508 13.5286 5.80473L10.8619 3.13806C10.6016 2.87771 10.6016 2.4556 10.8619 2.19525Z"}),ye("path",{d:"M11.5286 7.80473L8.86194 5.13806L9.80475 4.19525L12.4714 6.86192L11.5286 7.80473Z"})),copy:ye("svg",{width:"36",height:"36",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"M66.4,71.1h-30c-1.7,0-3-1.3-3-3v-34c0-1.7,1.3-3,3-3h30c1.7,0,3,1.3,3,3v34C69.4,69.7,68,71.1,66.4,71.1z M37.4,67.1h28  v-32h-28V67.1z",fill:"#000"}),ye("path",{d:"M73.4,64.1c-1.1,0-2-0.9-2-2v-33h-29c-1.1,0-2-0.9-2-2s0.9-2,2-2h29.6c1.6,0,3.4,1.2,3.4,3v34  C75.4,63.2,74.5,64.1,73.4,64.1z M71.9,29.1L71.9,29.1L71.9,29.1z",fill:"#000"})),pdf:ye("svg",{width:"22",height:"22",viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"M988.6,636c-1.1-8.1-7.5-18-14.4-24.8l-0.1,0c-19.6-19.3-63-29.6-129.1-30.4c-44.7-0.5-98.6,3.5-155.3,11.4c-25.4-14.7-51.5-30.5-72-49.7c-55.2-51.5-101.3-123.1-130-201.8c1.9-7.3,3.4-13.8,5-20.4c0,0,31.1-176.6,22.9-236.4c-1.1-8.2-1.8-10.6-4-17l-2.7-6.9c-8.5-19.5-25-40.2-51.1-39L442,20.5c-29,0-52.7,14.8-58.9,37C364.3,127,383.8,231,419,365.7l-9,21.9c-25.3,61.6-56.9,123.5-84.8,178.3l-3.6,7.1c-29.4,57.5-56,106.2-80.1,147.6l-24.9,13.2c-1.8,1-44.5,23.6-54.6,29.6c-85,50.8-141.4,108.5-150.7,154.2c-3,14.6-0.8,33.3,14.4,41.9l24.1,12.2c10.5,5.2,21.5,7.9,32.8,7.9c60.6,0,130.9-75.5,227.8-244.6c111.8-36.4,239.2-66.7,350.8-83.4c85,47.9,189.7,81.2,255.7,81.2c11.7,0,21.8-1.1,30-3.3c12.7-3.4,23.3-10.6,29.9-20.4C989.5,689.8,992.1,663.2,988.6,636z M69.2,933.6c11.1-30.2,54.8-90,119.5-142.9c4-3.3,14-12.7,23.3-21.4C144.3,877.2,99,920.1,69.2,933.6z M452.2,51.7c19.5,0,30.6,49.1,31.5,95.1c0.9,46-9.8,78.3-23.2,102.2c-11.1-35.4-16.4-91.2-16.4-127.6C444.1,121.4,443.2,51.7,452.2,51.7z M338,680.2L338,680.2c13.5-24.3,27.7-49.9,42.1-77c35.1-66.5,57.4-118.5,73.9-161.3c32.9,59.9,73.8,110.7,122,151.5c6,5.1,12.3,10.2,19,15.3C497.1,628,412.5,651.6,338,680.2z M955.2,674.7L955.2,674.7c-5.9,3.7-23,5.8-34,5.8c-35.4,0-79.3-16.2-140.8-42.6c23.7-1.7,45.3-2.7,64.7-2.7c35.6,0,46.1-0.1,80.9,8.8C960.8,652.9,961.2,670.9,955.2,674.7z",fill:"#ff0000"})),eye:ye("svg",{width:"28",height:"28",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"m494.8,241.4l-50.6-49.4c-50.1-48.9-116.9-75.8-188.2-75.8s-138.1,26.9-188.2,75.8l-50.6,49.4c-11.3,12.3-4.3,25.4 0,29.2l50.6,49.4c50.1,48.9 116.9,75.8 188.2,75.8s138.1-26.9 188.2-75.8l50.6-49.4c4-3.8 11.7-16.4 0-29.2zm-238.8,84.4c-38.5,0-69.8-31.3-69.8-69.8 0-38.5 31.3-69.8 69.8-69.8 38.5,0 69.8,31.3 69.8,69.8 0,38.5-31.3,69.8-69.8,69.8zm-195.3-69.8l35.7-34.8c27-26.4 59.8-45.2 95.7-55.4-28.2,20.1-46.6,53-46.6,90.1 0,37.1 18.4,70.1 46.6,90.1-35.9-10.2-68.7-29-95.7-55.3l-35.7-34.7zm355,34.8c-27,26.3-59.8,45.1-95.7,55.3 28.2-20.1 46.6-53 46.6-90.1 0-37.2-18.4-70.1-46.6-90.1 35.9,10.2 68.7,29 95.7,55.4l35.6,34.8-35.6,34.7z",fill:"#000"})),crossred:ye("svg",{width:"32",height:"32",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"M9.49996 8.38058L13.4187 4.46183L14.5381 5.58125L10.6194 9.5L14.5381 13.4188L13.4187 14.5382L9.49996 10.6194L5.58121 14.5382L4.46179 13.4188L8.38054 9.5L4.46179 5.58125L5.58121 4.46183L9.49996 8.38058Z",fill:"#EB5757"})),crossredsm:ye("svg",{width:"32",height:"32",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"M9.49996 8.38058L13.4187 4.46183L14.5381 5.58125L10.6194 9.5L14.5381 13.4188L13.4187 14.5382L9.49996 10.6194L5.58121 14.5382L4.46179 13.4188L8.38054 9.5L4.46179 5.58125L5.58121 4.46183L9.49996 8.38058Z",fill:"#EB5757"})),check:ye("svg",{width:"32",height:"32",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye("path",{d:"M7.54058 13.9785L3.62183 10.0597L4.74124 8.94029L7.54176 11.7376L7.54058 11.7388L14.2579 5.02154L15.3773 6.14096L8.65999 12.859L7.54137 13.9777L7.54058 13.9785Z",fill:"#219653"}))};function ke(e){var t=e.attrs,n=t.S,r=t.A;n.loaded||r.init().then(r.initChecks);var o={USD:"$",EUR:"€"},i=function(e,t){var r=n.projects.find((function(t){return t.id===e}));return r?r[t]:""},l=function(){var e=Object.entries(n.checks).sort((function(e,t){return+e[0]>+t[0]?1:-1})).reduce((function(e,t){var n=t[0];return t[1]&&e.push(+n),e}),[]),t=n.times.find((function(t){return t.id===e[0]})).projid,o=n.times.filter((function(t){var n=t.id;return e.includes(n)})).reduce((function(e,t){return e+=t.total}),0);r.post("invoices",{date:new Date(Date.now()).toJSON().split("T")[0],projid:t,total:o,times:e.join(",")}).then((function(){return ye.route.set("/invoices")})).catch(console.log)};return{onbeforeupdate:function(){n.loaded||r.init().then(r.initChecks)},view:function(){return ye("div",{class:"p-4"},ye("div",{class:"flex"},ye("h2",{class:"text-2xl font-bold mb-3"},"Times"),ye("button",{class:n.classes.plus,onclick:function(){n.time={},ye.route.set("/time")}},"+")),ye("div",{class:"mb-3"},ye("button",{class:"mr-3 "+n.classes.button,onclick:function(){return ye.route.set("/json")}},"Copy Json"),ye("button",{class:n.classes.button,onclick:l},"Create Invoice")),ye("div",n.times.length>0?ye("table",ye("thead",ye("tr",["","date","project","hours","price","total","description",""].map((function(e){return ye("th",{class:"text-left px-3"},e)})))),ye("tbody",n.times.map((function(e){return ye("tr",{class:"hover:bg-slate-50"},ye("td",ye("input",{type:"checkbox",checked:n.checks[e.id],onchange:function(){return n.checks[e.id]=!n.checks[e.id]}})),["date","projname","hours","price","total","description"].map((function(t){return ye("td",{class:"px-3"},"projname"===t?i(e.projid,"name"):"total"===t?o[i(e.projid,"currency")]+(Math.round(e.hours*e.price*100)/100).toFixed(2):e[t])})),ye("td",{class:"flex"},ye("span",{class:"cursor-pointer",title:"edit",onclick:function(){n.time=e,ye.route.set("/time")}},xe.edit),ye("span",{class:"cursor-pointer",title:"copy",onclick:function(){e.id;var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["id"]);r.post("times",t)}},xe.copy),ye("span",{class:"cursor-pointer mt-0.5",onclick:function(){confirm("Are you sure you wish to delete this time entry?")&&r.del("times",e.id)}},xe.crossred)))})))):ye("h5",{class:"text-lg font-bold"},"No time entries found")))}}}function je(e){var t=e.attrs,n=t.S,r=t.A;n.loaded||r.init();var o=n.time.id?"put":"post",i="post"===o?"Create":"Edit",l=function(){if(n.time.total=n.time.hours*n.time.price,"post"===o)r.post("times",n.time).then((function(){return ye.route.set("/times")})).catch(console.log);else{var e=n.time,t=e.id,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["id"]);r.put("times",t,i).then((function(){return ye.route.set("/times")})).catch(console.log)}};return{onbeforeupdate:function(){n.loaded||r.init()},view:function(){return ye("div",{class:"p-4"},ye("h2",{class:"text-2xl font-bold mb-3"},`${i} time entry`),ye("form",{class:"flex flex-col gap-[20px]"},ye("div",{class:"flex"},ye("label",{class:"w-[100px] capitalize"},"Date"),ye("input",{type:"date",class:"px-2",value:n.time.date,onchange:function(e){return n.time.date=e.target.value}})),["description","hours","price","code"].map((function(e){return ye("div",{class:"flex"},ye("label",{class:"w-[100px] capitalize"},e),ye("input",{class:"px-2",value:n.time[e],onchange:function(t){return n.time[e]="hours"===e||"price"===e?+t.target.value:t.target.value}}))})),[{code:"projid",name:"Project",arr:"projects"},{code:"compid",name:"Company",arr:"companies"}].map((function(e){return ye("div",{class:"flex"},ye("label",{class:"w-[100px] capitalize"},e.name),ye("select",{name:e.code,style:"padding: 0 8px",value:n.time[e.code],onchange:function(t){return n.time[e.code]=+t.target.value}},n[e.arr].map((function(e){return ye("option",{value:e.id},e.name)}))))}))),ye("button",{class:"w-[120px] mt-5 "+n.classes.button,onclick:function(){return l()}},"Save"))}}}function Le(e){var t=e.attrs.S;return{view:function(){return ye("div",{class:"p-4"},ye("div",{class:"mb-3"},ye("button",{class:t.classes.button,onclick:function(){navigator.clipboard.writeText(document.getElementById("json").innerHTML)}},"Copy to Clipboard")),ye("pre#json",JSON.stringify(t.times.filter((function(e){return t.checks[e.id]})).reduce((function(e,t){return e.push({project:t.code,who:"Oscar Bannink",comment:t.description,hr:t.hours,date:t.date}),e}),[]).sort((function(e,t){return e.date>t.date?1:-1})),null,2)))}}}var Se=function(){var e={savHTML:"save HTML",makePDF:"make PDF",movePDF:"move PDF",delHTML:"delete HTML"};return{view:function(t){var n=t.attrs,r=n.res,o=n.cls,i=n.click;return ye("div",{class:"fixed top-0 left-0 w-screen h-screen flex flex-col justify-center items-center bg-black opacity-80"},ye("div",{class:"text-center mb-2.5 p-5 w-52 h-52 bg-white"},["savHTML","makePDF","movePDF","delHTML"].map((function(t){return ye("div",{class:"flex"},ye("span",{class:"w-24 ml-4 mr-1 text-left"},e[t]),ye("span",r[t]?xe.crossredsm:xe.check))})),ye("div",{class:"mt-2"},ye("button",{class:o,onclick:i},"OK"))))}}};function Ce(e){var t=e.attrs,n=t.S,r=t.A;n.loaded||r.init();var o={USD:"$",EUR:"€"},i=function(e,t){var r=n.projects.find((function(t){return t.id===e}));return r?r[t]:""},l=null;return{onbeforeupdate:function(){n.loaded||r.init()},view:function(){return ye("div",{class:"p-4"},ye("h2",{class:"text-2xl font-bold mb-2"},"Invoices"),ye("div",n.invoices.length>0?ye("table",ye("thead",ye("tr",["date","project","total",""].map((function(e){return ye("th",{class:"text-left px-3"},e)})))),ye("tbody",n.invoices.map((function(e){return ye("tr",ye("td",{class:"px-3"},e.date),ye("td",{class:"px-3"},i(e.projid,"name")),ye("td",{class:"px-3"},o[i(e.projid,"currency")]+e.total),ye("td",{class:"flex"},ye("span",{class:"cursor-pointer mr-1.5 mt-1",title:"pdf",onclick:function(){n.invo=e,function(){var e=n.projects.find((function(e){return e.id===n.invo.projid})),t=n.invo.times.split(",").map(Number),o=n.times.filter((function(e){var n=e.id;return t.includes(n)})).reverse(),i=n.companies.find((function(e){return e.id===o[0].compid}));r.post("pdf",{invo:n.invo,comp:i,proj:e,times:o}).then((function(e){return l=e})).catch(console.log)}()}},xe.pdf),ye("span",{class:"cursor-pointer mt-0.5",title:"preview",onclick:function(){n.invo=e,ye.route.set("/preview")}},xe.eye),ye("span",{class:"cursor-pointer",onclick:function(){confirm(`Are you sure you wish to delete ${e.name}?`)&&r.del("invoices",e.id)}},xe.crossred)))})))):ye("h5",{class:"text-lg font-bold"},"No invoices found")),l&&ye(Se,{res:l,cls:n.classes.button,click:function(){return l=null}}))}}}function Ae(e){var t=e.attrs,n=t.S,r=t.A;return n.loaded||r.init(),{onbeforeupdate:function(){n.loaded||r.init()},view:function(){return ye("div",{class:"p-4"},ye("div",{class:"flex mb-2"},ye("h2",{class:"text-2xl font-bold"},"Companies"),ye("button",{class:n.classes.plus,onclick:function(){n.comp={},ye.route.set("/company")}},"+")),ye("div",n.companies.length>0?ye("table",ye("tbody",n.companies.map((function(e){return ye("tr",ye("td",{class:"px-3"},e.name),ye("td",{class:"flex"},ye("span",{class:"cursor-pointer",title:"edit",onclick:function(){n.comp=e,ye.route.set("/company")}},xe.edit),ye("span",{class:"cursor-pointer mt-0.5",onclick:function(){confirm(`Are you sure you wish to delete ${e.name}?`)&&r.del("companies",e.id)}},xe.crossred)))})))):ye("h5",{class:"text-lg font-bold"},"No company found")),ye("div",{class:"flex mt-8 mb-2"},ye("h2",{class:"text-2xl font-bold"},"Projects"),ye("button",{class:n.classes.plus,onclick:function(){n.comp={},ye.route.set("/project")}},"+")),ye("div",n.projects.length>0?ye("table",ye("tbody",n.projects.map((function(e){return ye("tr",ye("td",{class:"px-3"},e.name),ye("td",{class:"flex"},ye("span",{class:"cursor-pointer",title:"edit",onclick:function(){n.proj=e,ye.route.set("/project")}},xe.edit),ye("span",{class:"cursor-pointer mt-0.5",onclick:function(){confirm(`Are you sure you wish to delete ${e.name}?`)&&r.del("projects",e.id)}},xe.crossred)))})))):ye("h5",{class:"text-lg font-bold"},"No projects found")))}}}function Ee(e){var t=e.attrs,n=t.S,r=t.A;n.loaded||r.init();var o=n.comp.id?"put":"post",i="post"===o?"Create":"Edit",l=function(){if("post"===o)r.post("companies",n.comp).then((function(){return ye.route.set("/config")})).catch(console.log);else{var e=n.comp,t=e.id,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["id"]);r.put("companies",t,i).then((function(){return ye.route.set("/config")})).catch(console.log)}};return{onbeforeupdate:function(){n.loaded||r.init()},view:function(){return ye("div",{class:"p-4"},ye("h2",{class:"text-2xl font-bold mb-3"},`${i} company`),ye("form",{class:"flex flex-col gap-[20px]"},["name","address","city","country","coc","vat"].map((function(e){return ye("div",{class:"flex"},ye("label",{class:"w-[100px] capitalize"},"coc"===e?"CoC/KvK":"vat"===e?"VAT/BTW":e),ye("input",{class:"px-2",value:n.comp[e],onchange:function(t){return n.comp[e]=t.target.value}}))}))),ye("button",{class:"w-[120px] mt-5 "+n.classes.button,onclick:function(){return l()}},"Save"))}}}function ze(e){var t=e.attrs,n=t.S,r=t.A;n.loaded||r.init();var o=n.proj.id?"put":"post",i="post"===o?"Create":"Edit",l=function(){if("post"===o)r.post("projects",n.proj).then((function(){return ye.route.set("/config")})).catch(console.log);else{var e=n.proj,t=e.id,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["id"]);r.put("projects",t,i).then((function(){return ye.route.set("/config")})).catch(console.log)}};return{onbeforeupdate:function(){n.loaded||r.init()},view:function(){return ye("div",{class:"p-4"},ye("h2",{class:"text-2xl font-bold mb-3"},`${i} project`),ye("form",{class:"flex flex-col gap-[20px]"},["name","address","city","country","bank","currency","tax","language"].map((function(e){return ye("div",{class:"flex"},ye("label",{class:"w-[100px] capitalize"},e),"currency"===e?ye("select",{style:"padding: 0 8px",value:n.proj[e],onchange:function(t){return n.proj[e]=t.target.value}},["USD","EUR"].map((function(e){return ye("option",{value:e},e)}))):"language"===e?ye("select",{style:"padding: 0 8px",value:n.proj[e],onchange:function(t){return n.proj[e]=t.target.value}},Object.entries({EN:"English",NL:"Nederlands"}).map((function(e){var t=e[0],n=e[1];return ye("option",{value:t},n)}))):ye("input",{class:"px-2",value:n.proj[e],onchange:function(t){return n.proj[e]="tax"===e?+t.target.value:t.target.value}}))}))),ye("button",{class:"w-[120px] mt-5 "+n.classes.button,onclick:function(){return l()}},"Save"))}}}var Te=function(e,t){return{title:["Invoice","Factuur"],coc:["CoC: ","KvK: "],vat:["VAT: ","BTW: "],nr:["Invoice number: ","Factuurnummer: "],date:["Date","Datum"],description:["Description","Omschrijving"],price:["Price","Prijs"],hours:["Hours","Uren"],total:["Total","Totaal"],sub:["Subtotal","Subtotaal"],tax:["Tax ","BTW "]}[e][t]};function Oe(e){var t=e.attrs.S,n=t.projects.find((function(e){return e.id===t.invo.projid})),r=t.invo.times.split(",").map(Number),o=t.times.filter((function(e){var t=e.id;return r.includes(t)})).reverse(),i=t.companies.find((function(e){return e.id===o[0].compid})),l="EN"===n.language?0:1,a={USD:"$",EUR:"€"},c=function(e,t){return Math.round(e/100*t*100)/100};return{view:function(){return ye("div",{style:"position:relative; width:100vw; height:100vh"},ye("div",{style:"width:970px; margin:0 auto; padding:20px"},ye("div",{style:"display:flex; justify-content:space-between; align-items:center"},ye("div",{style:"font-size: 2.25rem"},Te("title",l)),ye("div",{style:"margin-top:9px; font-size: 1rem; font-style:italic"},t.invo.date)),ye("hr",{style:"border-top:1px solid black"}),ye("div",{style:"display:flex; justify-content:space-between; margin-top:20px"},ye("div",ye("div",{style:"font-weight:bold"},n.name),ye("div",n.address),ye("div",n.city),ye("div",n.country)),ye("div",{style:"margin-right:20px"},ye("div",{style:"font-weight:bold"},i.name),ye("div",i.address),ye("div",i.city),ye("div",i.country),ye("div",{style:"margin-top:3px"},Te("coc",l)+i.coc),ye("div",Te("vat",l)+i.vat),ye("div",`Bank: ${n.bank}`))),ye("div",{style:"margin-top:90px"},Te("nr",l)+t.invo.date.replaceAll("-","").slice(2)),ye("div",{style:"margin-top:60px"},ye("table",{style:"width:100%; text-align:left; font-size:18px"},ye("thead",["date","description","price","hours","total"].map((function(e){return ye("th",Te(e,l))}))),ye("tbody",o.map((function(e){return ye("tr",{style:"height:28px"},ye("td",{style:"width:120px"},e.date),ye("td",e.description),ye("td",a[n.currency]+e.price.toFixed(2)),ye("td",e.hours.toFixed(1)),ye("td",{style:"width:100px"},a[n.currency]+e.total.toFixed(2)))})),ye("tr",ye("td",{colspan:4}),ye("td",ye("hr",{style:"border-top:1px solid black"}))),ye("tr",ye("td",{colspan:3}),ye("td",{style:"padding-top:8px"},Te("sub",l)),ye("td",a[n.currency]+t.invo.total.toFixed(2))),ye("tr",ye("td",{colspan:3}),ye("td",{style:"padding-top:5px"},`${Te("tax",l)} (${n.tax}%)`),ye("td",a[n.currency]+c(n.tax,t.invo.total).toFixed(2))),ye("tr",{style:"font-weight:bold"},ye("td",{colspan:3}),ye("td",{style:"padding-top:5px; font-size:18px; font-weight:bold"},Te("total",l)),ye("td",a[n.currency]+(t.invo.total+c(n.tax,t.invo.total)).toFixed(2))))))))}}}var Pe={companies:[],comp:{},projects:[],proj:{},times:[],time:{},checks:{},invoices:[],invo:{},classes:{button:"px-3.5 pt-0.5 pb-1 bg-sky-600 text-white rounded-md",plus:"flex justify-center items-end w-[30px] h-[30px] p-0 mt-1 ml-2.5 bg-sky-600 text-white rounded-md text-3xl"},loaded:!1},Ne=function(e,t){return void 0===t&&(t={init:function(){return e.loaded=!1,Promise.all([t.get("times"),t.get("companies"),t.get("projects"),t.get("invoices")]).then((function(){return e.loaded=!0})).catch(console.log)},initChecks:function(){return e.checks=e.times.reduce((function(e,t){return e[t.id]=!1,e}),{})},get:function(t){return we.get(`/api/${t}`).then((function(n){return e[t]=n})).catch(console.log)},post:function(t,n){return we.post(`/api/${t}`,{body:n}).then((function(r){if("pdf"===t)return r;e[t].unshift(Object.assign({},{id:r.id},n))})).catch(console.log)},put:function(t,n,r){return we.put(`/api/${t}/${n}`,{body:r}).then((function(){var o=e[t].findIndex((function(e){return e.id===n}));e[t][o]=r})).catch(console.log)},del:function(t,n){return we.del(`/api/${t}/${n}`,{method:"DELETE"}).then((function(){e[t]=e[t].filter((function(e){return e.id!==n}))})).catch(console.log)}}),t}(Pe),$e={"/":{render:function(){return ye(be,{A:Ne},ye(ke,{S:Pe,A:Ne}))}},"/times":{render:function(){return ye(be,{A:Ne},ye(ke,{S:Pe,A:Ne}))}},"/time":{render:function(){return ye(be,{A:Ne},ye(je,{S:Pe,A:Ne}))}},"/json":{render:function(){return ye(be,{A:Ne},ye(Le,{S:Pe}))}},"/invoices":{render:function(){return ye(be,{A:Ne},ye(Ce,{S:Pe,A:Ne}))}},"/config":{render:function(){return ye(be,{A:Ne},ye(Ae,{S:Pe,A:Ne}))}},"/company":{render:function(){return ye(be,{A:Ne},ye(Ee,{S:Pe,A:Ne}))}},"/project":{render:function(){return ye(be,{A:Ne},ye(ze,{S:Pe,A:Ne}))}},"/preview":{render:function(){return ye(Oe,{S:Pe})}}};ye.route(document.body,"/",$e)}();
